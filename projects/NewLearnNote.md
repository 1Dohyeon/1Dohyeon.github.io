# NewLearnNote: AI와 집단지성 기반 지식 관리 및 노트 앱

이 문서는 프로젝트를 시작한 이유부터 배운 점까지 프로젝트 경험을 중심으로 작성되었습니다. **코드 구현 세부사항, 아키텍처 설계, 사용 방법 등** 기술 문서는 [GitHub README](https://github.com/newlearnnote/newlearnnote.github.io/blob/main/README.md)에서 확인하실 수 있습니다.

## 프로젝트 개요

![nln-main-img](https://github.com/1Dohyeon/1Dohyeon.github.io/blob/main/public/nln-main-img.png?raw=true)

> 서비스 정보
>
> - 서비스명: NewLearn Note
> - 비전: AI와 집단지성을 활용한 차세대 지식 관리 및 학습 플랫폼
> - 배포 상태: 테스트 서버 배포 완료

### 왜 이 프로젝트를 시작했는가?

대학교를 다니면서 옵시디언, 노션 등 여러 노트 앱을 활용하여 공부해왔습니다. 하지만 기존 노트 앱들은 단순히 정보를 기록하는 도구에 머물거나, 복잡한 플러그인 설치로 사용 경험이 파편화되는 한계가 있었습니다. 특히 다른 사용자들의 학습 내용을 참고하고 싶을 때마다 브라우저를 별도로 열어야 하는 번거로움이 있었습니다.

이러한 문제점을 해결하기 위해 NewLearn Note를 기획했습니다. 사용자의 학습 코치 역할을 하는 AI와, 사용자들이 작성한 각 노트들이 상호 참조하는 집단지성 네트워크를 결합한 새로운 형태의 지식 관리 솔루션입니다. 개인적인 필요에서 시작하여, 비슷한 고민을 가진 다른 사용자들에게도 실질적인 가치를 제공할 수 있는 서비스를 만드는 것을 목표로 개발을 진행했습니다.

## 담당 개발 영역

### 1. 사용자 인증 시스템 구축

프로젝트의 보안을 위해 포괄적인 사용자 인증 시스템을 개발했습니다.

**기술적 구현:**
- **Google OAuth 2.0 구현**: 안전하고 간편한 로그인 경험을 위해 Google OAuth 2.0을 도입했습니다. 플랫폼별로 다른 클라이언트 ID를 사용하여 웹(`GOOGLE_CLIENT_ID`)과 데스크톱 앱(`GOOGLE_CLIENT_DESKTOP_ID`)을 구분해 보안을 강화했습니다.
- **JWT 토큰 관리**: 서버에서 발급한 JWT 토큰을 통해 API 요청을 인증하고, 토큰 만료 시 자동 갱신하는 로직을 구현했습니다.
- **세션 관리**: 데스크톱 앱에서는 사용자 편의성을 위해 세션 기반 인증을 구현했습니다. 로그인 상태를 로컬에 안전하게 저장하여 앱 재실행 시에도 자동 로그인이 가능하도록 했습니다.
- **데이터베이스 설계**: PostgreSQL을 활용해 사용자 정보와 인증 세션을 체계적으로 관리했습니다.

### 2. AI 기반의 능동적 학습 코치 구현

기존 AI가 사용자의 명령을 수동적으로 수행하는 도구였다면, NewLearn Note의 AI는 사용자가 노트를 작성하면 능동적으로 관련 지식을 제안하거나 심층적인 질문을 던지는 코치 역할을 수행합니다.

**기술적 구현:**
- **Gemini API 연동**: NestJS 백엔드에서 Google의 Gemini API를 연동하여 AI 코어 모듈을 구축했습니다.
- **컨텍스트 기반 응답**: 사용자가 작성 중인 노트의 내용을 분석하여 관련된 질문이나 추가 학습 자료를 제안하는 시스템을 구현했습니다.

### 3. 집단지성 네트워크 아키텍처

개인의 지식 창고에 머물렀던 기존 앱과 달리, NewLearn Note는 사용자들이 자신의 노트를 공개하고 서로의 노트를 직접 참조할 수 있는 양방향적 지식 네트워크를 구축했습니다. 이는 단순한 링크 연결을 넘어, 타인의 지식 위에 새로운 아이디어를 쌓아 올리는 지식 생산 과정을 가능하게 합니다.

**스마트한 추천 시스템 설계:**
관련 노트 추천에서 참조 네트워크와 AI 분석을 상호 보완적으로 활용하는 하이브리드 시스템을 구현했습니다. 사용자들의 노트 참조 관계를 그래프 데이터로 축적하여 1차적으로는 검증된 연결 관계 기반의 빠른 추천을 제공하고, 2차적으로는 AI 분석을 통해 새로운 지식 연결을 탐색합니다. 이러한 접근을 통해 단순히 인기도에 의존하지 않고 사용자의 학습 맥락에 맞는 다양한 학습 경로를 제안할 수 있는 추천 엔진을 구축했습니다.

**기술적 구현:**
- **데이터베이스 설계**: 사용자-노트 관계와 노트 간 참조 관계를 PostgreSQL에서 효율적으로 관리할 수 있는 정규화된 스키마를 설계했습니다.
- **웹 퍼블리싱 시스템**: 공개 노트를 SEO 최적화된 웹페이지로 자동 변환하는 기능을 구현하여 검색 엔진 노출과 네트워크 확산을 도모했습니다.
- **추천 알고리즘**: 그래프 기반 분석과 AI 콘텐츠 분석을 조합한 하이브리드 추천 시스템을 구현하여 개인화된 학습 경로 제안과 새로운 지식 발견의 균형을 확보했습니다.

### 4. 크로스 플랫폼 데스크톱 앱 개발

Electron.js를 기반으로 데스크톱 앱을 개발했습니다. 파일 시스템 접근과 네이티브 UI 기능은 `main.ts`에서, 사용자 인터페이스는 Next.js를 활용한 `renderer` 프로세스에서 분리하여 개발 효율을 극대화했습니다.

**기술적 구현:**
- `main` 프로세스(`ipcHandlers.ts`)와 `renderer` 프로세스 간의 IPC 통신을 활용하여 파일 CRUD, 프로젝트 관리 등 핵심 로직을 안전하게 처리했습니다.
- 멀티 탭 및 멀티 에디터 기능을 구현하여 탭을 분할하고 에디터 간에 이동시키는 로직을 `useEditorManager` 훅을 통해 구현했습니다.
- 파일-탭 동기화: 파일 트리에서 파일이 삭제되면 열려 있는 탭이 자동으로 닫히도록 `useFileEvents`와 `useTabManager`를 연동했습니다.

### 5. 노트 퍼블리싱 및 배포: GCP 기반의 안정적인 시스템 구축

**노트 퍼블리싱 시스템:**
- **GCS(Google Cloud Storage) 활용**: 사용자가 작성한 노트를 정적 웹페이지로 변환하여 GCS에 배포하는 퍼블리싱 시스템을 구현했습니다.
- **SEO 최적화**: 공개 노트가 검색 엔진에 노출될 수 있도록 메타 태그 및 사이트맵을 자동 생성했습니다.
- **버전 관리**: 노트 수정 이력을 추적하고, 이전 버전으로 롤백할 수 있는 기능을 구현했습니다.

**GCP 기반 배포:** GCP(Google Cloud Platform)를 기반으로 테스트 서버를 구축하고 배포를 완료했습니다.
- **컨테이너화**: Docker를 사용하여 백엔드 애플리케이션을 컨테이너화했습니다. 이는 개발 환경과 배포 환경의 일관성을 보장하고, 의존성 문제를 해결하는 데 큰 도움이 되었습니다.
- **관리형 서비스**: Cloud SQL (PostgreSQL)을 사용하여 데이터베이스를 관리하고, 사용자에게 업로드되는 이미지 및 영상은 Cloud Storage에 저장하여 관리 효율을 높였습니다.
- **오케스트레이션**: Kubernetes Engine(GKE)을 활용하여 백엔드 애플리케이션을 배포하고 관리했습니다. 이를 통해 트래픽 증가에 따른 자동 스케일링, 무중단 배포 등 안정적인 서비스 운영 기반을 마련했습니다.

### 프로젝트를 통해 배운 점

이 프로젝트를 통해 기획부터 개발, 배포, 운영까지 서비스의 전반적인 라이프사이클을 경험했습니다. 특히 크로스 플랫폼 환경에서 사용자 로그인 상태를 어떻게 관리할지 깊게 고민하는 계기가 되었습니다. 웹의 JWT 토큰 방식과 데스크톱 앱의 세션 방식을 구분하여 각 플랫폼에 최적화된 인증 전략을 구현하면서, 사용자 편의성과 보안성을 모두 고려한 시스템 설계의 중요성을 깨달았습니다. 